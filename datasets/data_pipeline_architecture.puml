@startuml Data Pipeline Architecture

    

    node "Collect" as pip_collect{
        package "Country" as coll_country{
            database "Financial Statements" as coll_finance
            file "Population" as coll_population
            file "Chart of Account" as coll_chart

        }
        package "Exiobase source" {
            folder "Monetary Emission Factors" as coll_exiobase   
        }
    }

    node "Prepare" as pip_prepare{
        component "Country" as prep_country{
            component "Financial Statements" as prep_finance
            component "Population" as prep_population
            component "Chart of Account" as prep_coa
        }
        file "Exiobase"{
            file "Monetary Emission Factors" as prep_exiobase
        }
        file "Mapping chart of account and monetary emission factors" as mapping
    }
    
    node "Store" as pip_store{
        database "Cities Financial Statements" as store_finance
        database "Exiobase" as store_exiobase
    }

    node "Compute" as pip_compute{
        component "MyCityCO2 engine" as compute_engine
    }

    node "Analitics" as pip_analytics{
        component "MyCityCO2 data visualization" as analyzer_engine
    }

    pip_collect --> pip_prepare

    pip_prepare --> pip_store

    pip_store --> pip_compute
    
    pip_compute --> pip_analytics

@enduml
